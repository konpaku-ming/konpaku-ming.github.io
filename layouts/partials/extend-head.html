<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body);"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "2375", right: "2375", display: true},
                {left: "$", right: "$", display: false}
            ],
            throwOnError : false
        });
    });
</script>

<style>
    :root {
        --article-max-width: min(65ch, 100%);
    }

    @media (min-width: 1024px) {
        :root {
            --article-max-width: min(80ch, 100%);
        }
    }

    article #single_header,
    article section.prose,
    article .article-content {
        max-width: var(--article-max-width);
    }

    article section.prose,
    article .article-content {
        width: 100%;
    }

    #search-button,
    #search-button-mobile {
        display: none !important;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var searchLinks = document.querySelectorAll('a[href="#search"]');
        if (!searchLinks.length) {
            return;
        }

        // Reuse the built-in search modal when the "搜索" nav item is clicked.
        var openSearchModal = function () {
            var trigger = document.getElementById("search-button") || document.getElementById("search-button-mobile");
            if (trigger) {
                trigger.click();
                var queryInput = document.getElementById("search-query");
                if (queryInput) {
                    queryInput.focus();
                }
            }
        };

        searchLinks.forEach(function (link) {
            link.addEventListener("click", function (event) {
                event.preventDefault();
                openSearchModal();
            });
        });
    });
</script>
